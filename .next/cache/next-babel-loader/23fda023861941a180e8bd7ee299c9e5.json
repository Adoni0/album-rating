{"ast":null,"code":"import { connect } from '../../utils/database';\nexport default async function (req, res) {\n  //  /api/getAlbums route\n  try {\n    const {\n      db\n    } = await connect();\n    const result = await db.collection('albumQueue').find().toArray(); // console.log(result.ops[0])\n\n    res.json({\n      result\n    });\n  } catch (e) {\n    res.status(500);\n    res.json({\n      error: 'unable to retrieve albums...sorry!'\n    });\n  }\n\n  res.json({\n    result: []\n  });\n}","map":{"version":3,"sources":["/Users/adamsoudani/Desktop/album-rating/pages/api/getAlbums.js"],"names":["connect","req","res","db","result","collection","find","toArray","json","e","status","error"],"mappings":"AAAA,SAASA,OAAT,QAAwB,sBAAxB;AAEA,eAAe,gBAAeC,GAAf,EAAoBC,GAApB,EAAwB;AAAE;AACrC,MAAI;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAS,MAAMH,OAAO,EAA5B;AAEA,UAAMI,MAAM,GAAG,MAAMD,EAAE,CAACE,UAAH,CAAc,YAAd,EAA4BC,IAA5B,GAAmCC,OAAnC,EAArB,CAHA,CAIA;;AACAL,IAAAA,GAAG,CAACM,IAAJ,CAAS;AAACJ,MAAAA;AAAD,KAAT;AACH,GAND,CAME,OAAMK,CAAN,EAAS;AACPP,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX;AACAR,IAAAA,GAAG,CAACM,IAAJ,CAAS;AAACG,MAAAA,KAAK,EAAE;AAAR,KAAT;AACH;;AAEDT,EAAAA,GAAG,CAACM,IAAJ,CAAS;AAACJ,IAAAA,MAAM,EAAE;AAAT,GAAT;AACH","sourcesContent":["import { connect } from '../../utils/database'\n\nexport default async function(req, res){ //  /api/getAlbums route\n    try {\n        const { db } = await connect();\n   \n        const result = await db.collection('albumQueue').find().toArray();\n        // console.log(result.ops[0])\n        res.json({result})\n    } catch(e) {\n        res.status(500);\n        res.json({error: 'unable to retrieve albums...sorry!'})\n    }\n   \n    res.json({result: []})\n}"]},"metadata":{},"sourceType":"module"}