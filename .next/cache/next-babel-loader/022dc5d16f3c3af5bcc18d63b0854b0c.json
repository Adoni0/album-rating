{"ast":null,"code":"// import albumdb from '../../models'\nimport { connect } from '../../utils/database';\nexport default async function (req, res) {\n  //  /api/create route\n  try {\n    const {\n      db\n    } = await connect();\n    const {\n      albumName,\n      artistName\n    } = req.body;\n    const result = await db.collection('albumQueue').insertOne({\n      album: {\n        name: albumName,\n        artist: artistName\n      }\n    });\n    res.status(201); // console.log(result.ops[0])\n\n    res.json({\n      album: result.ops[0]\n    });\n  } catch (e) {\n    res.status(500);\n    res.json({\n      error: 'Unable to insert album'\n    });\n  }\n}","map":{"version":3,"sources":["/Users/adamsoudani/Desktop/album-rating/pages/api/create.js"],"names":["connect","req","res","db","albumName","artistName","body","result","collection","insertOne","album","name","artist","status","json","ops","e","error"],"mappings":"AAAA;AACA,SAASA,OAAT,QAAwB,sBAAxB;AAEA,eAAe,gBAAeC,GAAf,EAAoBC,GAApB,EAAwB;AAAE;AACrC,MAAI;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAS,MAAMH,OAAO,EAA5B;AACJ,UAAM;AAACI,MAAAA,SAAD;AAAYC,MAAAA;AAAZ,QAA2BJ,GAAG,CAACK,IAArC;AACA,UAAMC,MAAM,GAAG,MAAMJ,EAAE,CAACK,UAAH,CAAc,YAAd,EAA4BC,SAA5B,CAAsC;AACvDC,MAAAA,KAAK,EAAE;AACHC,QAAAA,IAAI,EAAEP,SADH;AAEHQ,QAAAA,MAAM,EAAEP;AAFL;AADgD,KAAtC,CAArB;AAMAH,IAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EATI,CAUJ;;AACAX,IAAAA,GAAG,CAACY,IAAJ,CAAS;AAACJ,MAAAA,KAAK,EAAEH,MAAM,CAACQ,GAAP,CAAW,CAAX;AAAR,KAAT;AAEC,GAbD,CAaE,OAAMC,CAAN,EAAQ;AACNd,IAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX;AACAX,IAAAA,GAAG,CAACY,IAAJ,CAAS;AAACG,MAAAA,KAAK,EAAE;AAAR,KAAT;AACH;AAEJ","sourcesContent":["// import albumdb from '../../models'\nimport { connect } from '../../utils/database'\n\nexport default async function(req, res){ //  /api/create route\n    try {\n        const { db } = await connect();\n    const {albumName, artistName } = req.body;\n    const result = await db.collection('albumQueue').insertOne({\n        album: {\n            name: albumName,\n            artist: artistName\n        }\n    });\n    res.status(201);\n    // console.log(result.ops[0])\n    res.json({album: result.ops[0]})\n    \n    } catch(e){\n        res.status(500);\n        res.json({error: 'Unable to insert album'})\n    }\n    \n}"]},"metadata":{},"sourceType":"module"}